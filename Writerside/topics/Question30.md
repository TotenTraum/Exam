# Вопрос 31

Когда речь идет о паттернах сохраняемости (persistence patterns), обычно имеются в виду различные подходы и шаблоны проектирования, используемые для сохранения данных в постоянное хранилище, такое как база данных или файловая система. 

есть три распространенных подхода к сопоставлению объектно-ориентированных моделей с реляционными базами данных: TPC (Table Per Class), TPH (Table Per Hierarchy) и TPT (Table Per Type).
* **TPC (Table Per Class)** - при этом подходе каждый класс объектной модели сопоставляется с отдельной таблицей в базе данных. Это означает, что каждый класс имеет свою собственную таблицу, в которой хранятся его атрибуты и данные. Такой подход обеспечивает наиболее прозрачное сопоставление между объектами и таблицами, но может привести к избыточности данных, особенно если классы имеют общие атрибуты.
* **TPH (Table Per Hierarchy)** - при этом подходе иерархия классов объектной модели сопоставляется с одной таблицей в базе данных. В этой таблице хранятся данные для всех классов иерархии, причем добавляются специальные столбцы для отличия объектов разных типов. Например, может быть добавлен столбец "тип объекта", который указывает, к какому конкретному классу относится запись в таблице. Такой подход экономит пространство в базе данных, но может усложнить запросы и требовать дополнительной логики для различения объектов разных типов.
* **TPT (Table Per Type)** - при этом подходе каждый класс объектной модели сопоставляется с отдельной таблицей в базе данных, но только для его уникальных атрибутов. Общие атрибуты классов хранятся в отдельной таблице. Такой подход комбинирует преимущества TPC и TPH, обеспечивая разделение уникальных атрибутов и сокращение избыточности данных. Однако, он требует более сложных запросов для объединения данных из разных таблиц.

![image_8.png](image_8.png)

![image_10.png](image_10.png)

![image_11.png](image_11.png)